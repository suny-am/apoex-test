{
  "version": 3,
  "sources": ["../../javascript/typescript/modules/BeerManager.ts", "../../javascript/typescript/index.ts", "../../javascript/application.js"],
  "sourcesContent": ["import { Beer } from '../interfaces'\nexport default class BeerManager\n{\n    public async generateList(mainDisplay?: HTMLElement, beers?: Array<Beer>, pageList?: Array<Array<Beer>>, selectedPage?: string)\n    {\n\n        // wip main display content if repopulating\n        mainDisplay.childNodes.forEach(childNode =>\n        {\n            childNode.remove()\n        })\n\n        let currentPage = selectedPage ? selectedPage : 0\n\n        // array to hold pages\n        let pages = pageList ? pageList : new Array<Array<Beer>>\n\n        // collect all items into spliced \"page\" arrays if items exeed 10\n        if (pages.length === 0 && beers)\n        {\n            if (beers.length > 10)\n            {\n                pages.push(...this.paginate(beers, 10, 10, 10))\n                this.createNavigation(mainDisplay, pages)\n            }\n            else\n            {\n                // remove pagination as it is not needed for shorter collections\n                if (document.querySelector(\".pagination-wrapper\"))\n                {\n                    document.querySelector(\".pagination-title\").remove()\n                    document.querySelector(\".pagination-wrapper\").remove()\n                }\n                pages.push(beers)\n            }\n        }\n\n        // populate display with inital page of search results\n        pages[currentPage].forEach((beer: Beer) =>\n        {\n            let beerBox = document.createElement(\"div\")\n            beerBox.classList.add('beer-box')\n            // generate an image based on the relevant API object key and value\n            // for some visual flair!\n            let beerImage = document.createElement('img')\n            let beerDetails = document.createElement('div')\n            beerImage.src = beer.image_url\n            beerImage.classList.add('beer-image')\n            beerBox.appendChild(beerImage)\n            mainDisplay.appendChild(beerBox)\n            let beerObject = [\n                { name: beer.name },\n                { abv: beer.abv },\n                { desc: beer.description },\n            ]\n            // create the beer info items\n            beerObject.forEach((object) =>\n            {\n                let p = document.createElement('p')\n                let div = document.createElement('div')\n                if (object.name)\n                {\n                    p.textContent = \"Name:\"\n                    div.textContent = object.name\n                    beerBox.appendChild(p)\n                    beerBox.appendChild(div)\n                } else if (object.abv)\n                {\n                    p.textContent = \"ABV (Alchohol By Volume):\"\n                    div.textContent = object.abv.toString()\n                    beerBox.appendChild(p)\n                    beerBox.appendChild(div)\n                } else\n                {\n                    p.textContent = \"Description:\"\n                    div.textContent = object.desc\n                    beerDetails.appendChild(p)\n                    beerDetails.appendChild(div)\n                }\n                p.classList.add(\"data-header\")\n                div.classList.add(\"data-point\")\n            })\n            let goesWellWith = document.createElement('p')\n            beerDetails.appendChild(goesWellWith)\n            goesWellWith.textContent = \"Goes well with:\"\n            goesWellWith.classList.add('data-header')\n\n            beer.food_pairing.forEach((pairing) =>\n            {\n                let div = document.createElement(\"div\")\n\n                div.classList.add('data-point')\n                div.textContent = \"- \" + pairing\n                beerDetails.appendChild(div)\n            })\n            beerBox.appendChild(beerDetails)\n            beerDetails.classList.add('beer-details')\n            // hide the details for users to be revealed if clicked\n            beerDetails.classList.add('hidden')\n            beerBox.addEventListener('click', (Event) => this.showDetails(Event, beerDetails))\n        })\n    } \u0192\n\n    // helper function to create set of 10 items for pagination\n    private * paginate(array: Array<Beer>, stride: number, size: number, offset = 0)\n    {\n        for (let i = offset; i < array.length; i += stride)\n        {\n            yield array.slice(i, i + size);\n        }\n    }\n\n    // helper function to allow user to switch page of results\n    private async changePage(mainDisplay: HTMLElement, pageList: Array<Array<Beer>>, Event: MouseEvent)\n    {\n        let pageNumber = (Event.target as HTMLElement).textContent\n        this.generateList(mainDisplay, null, pageList, pageNumber)\n    }\n\n    // create page navigation controls for user if it does not exist\n    private async createNavigation(mainDisplay: HTMLElement, pages: Array<Array<Beer>>)\n    {\n        if (!document.querySelector(\".pagination-wrapper\"))\n        {\n            let pageNavigationTitle = document.createElement('div')\n            pageNavigationTitle.textContent = \"Pages\"\n            pageNavigationTitle.classList.add(\"pagination-title\")\n            document.body.appendChild(pageNavigationTitle)\n            let paginationDisplayWrapper = document.createElement(\"div\")\n            paginationDisplayWrapper.classList.add('pagination-wrapper')\n            document.body.appendChild(paginationDisplayWrapper)\n            for (let i = 0; i < pages.length; i++)\n            {\n                let pageNumber = document.createElement(\"p\")\n                paginationDisplayWrapper.appendChild(pageNumber)\n                pageNumber.textContent = (i + 1).toString()\n                pageNumber.addEventListener('click', (Event: MouseEvent) => this.changePage(mainDisplay, pages, Event))\n            }\n        }\n    }\n\n    // helper function to show details of beer\n    private async showDetails(Event: MouseEvent, beerDetails: HTMLElement)\n    {\n        if (beerDetails.classList.contains('hidden'))\n        {\n            beerDetails.classList.remove('hidden')\n        }\n        else\n        {\n            beerDetails.classList.add('hidden')\n        }\n    }\n}\n", "import * as Modules from './modules'\n\nconst beerManager = new Modules.BeerManager()\n\n// relevant API query root\nconst punkApiRoot = \"https://api.punkapi.com/v2/beers?per_page=80&\"\n// predfined beer interface\nexport default class BeerFetcher\n{\n\n    public async typeListen()\n    {\n        let searchQuery = document.querySelector('.search-field') as HTMLInputElement\n        let searchButton = document.querySelector('.search-button')\n        // add event listeners for search query submission \n        searchQuery.addEventListener('keyup', (Event: KeyboardEvent) => this.checkInput(Event, searchQuery.value))\n        searchButton.addEventListener('click', (Event: MouseEvent) => this.checkInput(Event, searchQuery.value))\n    }\n\n    public async checkInput(Event: KeyboardEvent | MouseEvent, searchQuery: string)\n    {\n        // check for relevant key presses\n        if (Event instanceof KeyboardEvent)\n        {\n            // return silently if key is not \"Enter\"\n            if (Event.key !== 'Enter')\n            {\n                return\n            }\n        }\n\n        let mainDisplay = document.querySelector('#main-display') as HTMLElement\n        if (searchQuery === undefined || searchQuery === null || searchQuery === \"\")\n        {\n            mainDisplay.textContent = \"Enter a search term to search for beers!\"\n            return\n        }\n\n        // save API query to variable\n        let request = new Request(punkApiRoot + `beer_name=${ searchQuery }`)\n\n        // use the integrated Fetch API to pass the request\n        fetch(request).then((response) =>\n        {\n            try\n            {\n                response.body.getReader().read().then(async (value) =>\n                {\n                    // wipe main display of content before repopulating\n                    mainDisplay.innerHTML = \"\"\n                    let buffer = await value.value.buffer\n                    let json = new TextDecoder().decode(buffer)\n                    let beers = JSON.parse(json)\n                    // if no results; exit silently with a notice for the user\n                    if (beers.length === 0)\n                    {\n                        mainDisplay.textContent = \"no search results...\"\n                        return\n                    }\n                    // count amount of returned objects\n                    console.log(\"Retrieved beer count: \" + beers.length)\n                    {\n                        beerManager.generateList(mainDisplay, beers,)\n                    }\n                })\n            }\n            // general catch for error handling.\n            catch (err)\n            {\n                throw new Error(err)\n            }\n        })\n\n    }\n}", "import BeerFetcher from './typescript'\n\nnew BeerFetcher().typeListen()\n"],
  "mappings": ";;AACA,MAAqB,cAArB,MACA;AAAA,IACI,MAAa,aAAa,aAA2B,OAAqB,UAA+B,cACzG;AAGI,kBAAY,WAAW,QAAQ,eAC/B;AACI,kBAAU,OAAO;AAAA,MACrB,CAAC;AAED,UAAI,cAAc,eAAe,eAAe;AAGhD,UAAI,QAAQ,WAAW,WAAW,IAAI;AAGtC,UAAI,MAAM,WAAW,KAAK,OAC1B;AACI,YAAI,MAAM,SAAS,IACnB;AACI,gBAAM,KAAK,GAAG,KAAK,SAAS,OAAO,IAAI,IAAI,EAAE,CAAC;AAC9C,eAAK,iBAAiB,aAAa,KAAK;AAAA,QAC5C,OAEA;AAEI,cAAI,SAAS,cAAc,qBAAqB,GAChD;AACI,qBAAS,cAAc,mBAAmB,EAAE,OAAO;AACnD,qBAAS,cAAc,qBAAqB,EAAE,OAAO;AAAA,UACzD;AACA,gBAAM,KAAK,KAAK;AAAA,QACpB;AAAA,MACJ;AAGA,YAAM,aAAa,QAAQ,CAAC,SAC5B;AACI,YAAI,UAAU,SAAS,cAAc,KAAK;AAC1C,gBAAQ,UAAU,IAAI,UAAU;AAGhC,YAAI,YAAY,SAAS,cAAc,KAAK;AAC5C,YAAI,cAAc,SAAS,cAAc,KAAK;AAC9C,kBAAU,MAAM,KAAK;AACrB,kBAAU,UAAU,IAAI,YAAY;AACpC,gBAAQ,YAAY,SAAS;AAC7B,oBAAY,YAAY,OAAO;AAC/B,YAAI,aAAa;AAAA,UACb,EAAE,MAAM,KAAK,KAAK;AAAA,UAClB,EAAE,KAAK,KAAK,IAAI;AAAA,UAChB,EAAE,MAAM,KAAK,YAAY;AAAA,QAC7B;AAEA,mBAAW,QAAQ,CAAC,WACpB;AACI,cAAI,IAAI,SAAS,cAAc,GAAG;AAClC,cAAI,MAAM,SAAS,cAAc,KAAK;AACtC,cAAI,OAAO,MACX;AACI,cAAE,cAAc;AAChB,gBAAI,cAAc,OAAO;AACzB,oBAAQ,YAAY,CAAC;AACrB,oBAAQ,YAAY,GAAG;AAAA,UAC3B,WAAW,OAAO,KAClB;AACI,cAAE,cAAc;AAChB,gBAAI,cAAc,OAAO,IAAI,SAAS;AACtC,oBAAQ,YAAY,CAAC;AACrB,oBAAQ,YAAY,GAAG;AAAA,UAC3B,OACA;AACI,cAAE,cAAc;AAChB,gBAAI,cAAc,OAAO;AACzB,wBAAY,YAAY,CAAC;AACzB,wBAAY,YAAY,GAAG;AAAA,UAC/B;AACA,YAAE,UAAU,IAAI,aAAa;AAC7B,cAAI,UAAU,IAAI,YAAY;AAAA,QAClC,CAAC;AACD,YAAI,eAAe,SAAS,cAAc,GAAG;AAC7C,oBAAY,YAAY,YAAY;AACpC,qBAAa,cAAc;AAC3B,qBAAa,UAAU,IAAI,aAAa;AAExC,aAAK,aAAa,QAAQ,CAAC,YAC3B;AACI,cAAI,MAAM,SAAS,cAAc,KAAK;AAEtC,cAAI,UAAU,IAAI,YAAY;AAC9B,cAAI,cAAc,OAAO;AACzB,sBAAY,YAAY,GAAG;AAAA,QAC/B,CAAC;AACD,gBAAQ,YAAY,WAAW;AAC/B,oBAAY,UAAU,IAAI,cAAc;AAExC,oBAAY,UAAU,IAAI,QAAQ;AAClC,gBAAQ,iBAAiB,SAAS,CAAC,UAAU,KAAK,YAAY,OAAO,WAAW,CAAC;AAAA,MACrF,CAAC;AAAA,IACL;AAAA,IAGA,CAAU,SAAS,OAAoB,QAAgB,MAAc,SAAS,GAC9E;AACI,eAAS,IAAI,QAAQ,IAAI,MAAM,QAAQ,KAAK,QAC5C;AACI,cAAM,MAAM,MAAM,GAAG,IAAI,IAAI;AAAA,MACjC;AAAA,IACJ;AAAA,IAGA,MAAc,WAAW,aAA0B,UAA8B,OACjF;AACI,UAAI,aAAc,MAAM,OAAuB;AAC/C,WAAK,aAAa,aAAa,MAAM,UAAU,UAAU;AAAA,IAC7D;AAAA,IAGA,MAAc,iBAAiB,aAA0B,OACzD;AACI,UAAI,CAAC,SAAS,cAAc,qBAAqB,GACjD;AACI,YAAI,sBAAsB,SAAS,cAAc,KAAK;AACtD,4BAAoB,cAAc;AAClC,4BAAoB,UAAU,IAAI,kBAAkB;AACpD,iBAAS,KAAK,YAAY,mBAAmB;AAC7C,YAAI,2BAA2B,SAAS,cAAc,KAAK;AAC3D,iCAAyB,UAAU,IAAI,oBAAoB;AAC3D,iBAAS,KAAK,YAAY,wBAAwB;AAClD,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAClC;AACI,cAAI,aAAa,SAAS,cAAc,GAAG;AAC3C,mCAAyB,YAAY,UAAU;AAC/C,qBAAW,eAAe,IAAI,GAAG,SAAS;AAC1C,qBAAW,iBAAiB,SAAS,CAAC,UAAsB,KAAK,WAAW,aAAa,OAAO,KAAK,CAAC;AAAA,QAC1G;AAAA,MACJ;AAAA,IACJ;AAAA,IAGA,MAAc,YAAY,OAAmB,aAC7C;AACI,UAAI,YAAY,UAAU,SAAS,QAAQ,GAC3C;AACI,oBAAY,UAAU,OAAO,QAAQ;AAAA,MACzC,OAEA;AACI,oBAAY,UAAU,IAAI,QAAQ;AAAA,MACtC;AAAA,IACJ;AAAA,EACJ;;;ACvJA,MAAM,cAAc,IAAY,YAAY;AAG5C,MAAM,cAAc;AAEpB,MAAqB,cAArB,MACA;AAAA,IAEI,MAAa,aACb;AACI,UAAI,cAAc,SAAS,cAAc,eAAe;AACxD,UAAI,eAAe,SAAS,cAAc,gBAAgB;AAE1D,kBAAY,iBAAiB,SAAS,CAAC,UAAyB,KAAK,WAAW,OAAO,YAAY,KAAK,CAAC;AACzG,mBAAa,iBAAiB,SAAS,CAAC,UAAsB,KAAK,WAAW,OAAO,YAAY,KAAK,CAAC;AAAA,IAC3G;AAAA,IAEA,MAAa,WAAW,OAAmC,aAC3D;AAEI,UAAI,iBAAiB,eACrB;AAEI,YAAI,MAAM,QAAQ,SAClB;AACI;AAAA,QACJ;AAAA,MACJ;AAEA,UAAI,cAAc,SAAS,cAAc,eAAe;AACxD,UAAI,gBAAgB,UAAa,gBAAgB,QAAQ,gBAAgB,IACzE;AACI,oBAAY,cAAc;AAC1B;AAAA,MACJ;AAGA,UAAI,UAAU,IAAI,QAAQ,cAAc,aAAc,aAAc;AAGpE,YAAM,OAAO,EAAE,KAAK,CAAC,aACrB;AACI,YACA;AACI,mBAAS,KAAK,UAAU,EAAE,KAAK,EAAE,KAAK,OAAO,UAC7C;AAEI,wBAAY,YAAY;AACxB,gBAAI,SAAS,MAAM,MAAM,MAAM;AAC/B,gBAAI,OAAO,IAAI,YAAY,EAAE,OAAO,MAAM;AAC1C,gBAAI,QAAQ,KAAK,MAAM,IAAI;AAE3B,gBAAI,MAAM,WAAW,GACrB;AACI,0BAAY,cAAc;AAC1B;AAAA,YACJ;AAEA,oBAAQ,IAAI,2BAA2B,MAAM,MAAM;AACnD;AACI,0BAAY,aAAa,aAAa,KAAM;AAAA,YAChD;AAAA,UACJ,CAAC;AAAA,QACL,SAEO,KAAP;AAEI,gBAAM,IAAI,MAAM,GAAG;AAAA,QACvB;AAAA,MACJ,CAAC;AAAA,IAEL;AAAA,EACJ;;;ACxEA,MAAI,YAAY,EAAE,WAAW;",
  "names": []
}
